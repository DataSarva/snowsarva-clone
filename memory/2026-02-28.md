- Research: mapped how to reconcile Snowflake "credits" views vs currency billing via `ORGANIZATION_USAGE.USAGE_IN_CURRENCY_DAILY` and `METERING_DAILY_HISTORY`, including cloud services 10% adjustment semantics.
- Drafted SQL for a daily billing-vs-consumption reconciler (currency rollups by `SERVICE_TYPE` + billed credits after adjustments).
- Research: clarified primitives for showback/chargeback: `TAG_REFERENCES` joins with `WAREHOUSE_METERING_HISTORY` and `QUERY_ATTRIBUTION_HISTORY` (noting idle time exclusion).
- Research: captured a canonical SQL draft to compute warehouse idle estimate as `SUM(credits_used_compute) - SUM(credits_attributed_compute_queries)`.
- Research: designed an ADR for a “two-track attribution” model (query-attributed + residual allocator) to reconcile `QUERY_ATTRIBUTION_HISTORY` vs `WAREHOUSE_METERING_HISTORY` at warehouse-hour grain.
- Research: drafted SQL to compute hourly residual (idle/unattributed) credits per warehouse-hour for validation + later allocation policies.
- Research: resource monitors can notify/suspend *warehouses only* (not serverless/AI); monitors reset at 12:00 AM UTC on their schedule.
- Research: `ACCOUNT_USAGE.TAG_REFERENCES` is direct associations only (no inheritance) and includes `APPLY_METHOD` (MANUAL/PROPAGATED/CLASSIFIED).
