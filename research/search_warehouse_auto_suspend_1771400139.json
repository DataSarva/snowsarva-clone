{"search_id":"search_d2e3ef6b902542b393ac68c5ab784073","results":[{"url":"https://docs.snowflake.com/en/user-guide/warehouses-overview","title":"Overview of warehouses - Snowflake Documentation","excerpts":["[DOCUMENTATION](https://docs.snowflake.com)\n/\nGet started\nGuides\nDeveloper\nReference\nRelease notes\nTutorials\n[Status](https://status.snowflake.com)\nOverview\nSnowflake Horizon Catalog\nApplications and tools for connecting to Snowflake\nVirtual warehouses\nDatabases, Tables, & Views\nData types\nData Integration\nSnowflake Openflow\nApache Iceberg™\nApache Iceberg™ Tables\nSnowflake Open Catalog\nData engineering\nData loading\nDynamic Tables\nStreams and Tasks\ndbt Projects on Snowflake\nData Unloading\nStorage Lifecycle Policies\nMigrations\nQueries\nListings\nCollaboration\nSnowflake AI & ML\nAlerts & Notifications\nSecurity\nData Governance\nPrivacy\nOrganizations & Accounts\nBusiness continuity & data recovery\nPerformance optimization\nCost & Billing\nGuides Virtual warehouses Overview\nSection Title: Overview of warehouses ¶\nContent:\nWarehouses are required for queries, as well as all DML operations, including loading data into tables. In addition to being defined by its\ntype as either Standard or Snowpark-optimized, a warehouse is defined by its size, as well as the other properties that can be set to help\ncontrol and automate warehouse activity.\nWarehouses can be started and stopped at any time. They can also be resized at any time, even while running, to accommodate the need for more\nor less compute resources, based on the type of operations being performed by the warehouse.\n ... \nSection Title: Overview of warehouses ¶ > Warehouse size ¶\nContent:\nThe numbers in the preceding table refer to the first generation (Gen1) of Snowflake standard warehouses.\nFor usage information about the newer Gen2 warehouses, see Snowflake generation 2 standard warehouses .\nFor information about credit consumption for generation 2 standard warehouses,\nsee the [Snowflake Service Consumption Table](https://www.snowflake.com/legal-files/CreditConsumptionTable.pdf) .\nGen2 warehouses aren’t yet available for all cloud service providers or for all regions, and currently are not the default\nwhen you create a standard warehouse.\nTip\nFor information about cost implications of changing the RESOURCE_CONSTRAINT property, see considerations for changing RESOURCE_CONSTRAINT while a warehouse is running or suspended .\nSection Title: Overview of warehouses ¶ > Warehouse size ¶\nContent:\nAnother way that you can scale the capacity of Snowflake warehouses without changing the warehouse size is by using\nmulti-cluster warehouses. For more information about that feature, see Multi-cluster warehouses .\n ... \nSection Title: Overview of warehouses ¶ > Warehouse size ¶ > Impact on query processing ¶\nContent:\nThe size of a warehouse can impact the amount of time required to execute queries submitted to the warehouse, particularly for larger, more\ncomplex queries. In general, query performance scales with warehouse size because larger warehouses have more compute resources available to\nprocess queries.\nIf queries processed by a warehouse are running slowly, you can always resize the warehouse to provision more compute resources. The\nadditional resources do not impact any queries that are already running, but once they are fully provisioned they become available for use\nby any queries that are queued or newly submitted.\nTip\nLarger is not necessarily faster for small, basic queries.\nFor more warehouse tips and guidelines, see Warehouse considerations .\nSection Title: Overview of warehouses ¶ > Auto-suspension and auto-resumption ¶\nContent:\nYou can set a warehouse to automatically resume or suspend, based on activity:\nBy default, auto-suspend is enabled. Snowflake automatically suspends the warehouse if it is inactive for the specified period of time.\nBy default, auto-resume is enabled. Snowflake automatically resumes the warehouse when any statement that requires a warehouse is submitted and the warehouse is the current warehouse for the session.\nThese properties can be used to simplify and automate your monitoring and usage of warehouses to match your workload. Auto-suspend ensures\nthat you don’t leave a warehouse running (and consuming credits) when there are no incoming queries. Similarly, auto-resume ensures that\nthe warehouse starts up again as soon as it is needed.\nNote\nAuto-suspend and auto-resume apply only to the entire warehouse and not to the individual clusters in the warehouse.\nFor a multi-cluster warehouse :\nSection Title: Overview of warehouses ¶ > Auto-suspension and auto-resumption ¶\nContent:\nAuto-suspend only occurs when the minimum number of clusters is running and there is no activity for the specified period of time. The\nminimum is typically 1 (cluster), but could be more than 1.\nAuto-resume only applies when the entire warehouse is suspended (i.e. no clusters are running).\n ... \nSection Title: Overview of warehouses ¶ > Query processing and concurrency ¶\nContent:\nTo enable fully automated scaling for concurrency, Snowflake recommends multi-cluster warehouses ,\nwhich provide essentially the same benefits as creating additional warehouses and redirecting queries, but without requiring manual\nintervention.\nMulti-cluster warehouses are an Enterprise Edition feature.\n ... \nSection Title: Overview of warehouses ¶ > ... > Default warehouse for client utilities/drivers/connectors ¶\nContent:\nIn addition to default warehouses for users, any of the Snowflake clients (Snowflake CLI, SnowSQL, JDBC driver, ODBC driver, Python connector, etc.) can\nhave a default warehouse:\nSnowflake CLI and SnowSQL support both a configuration file and command line options for specifying a default warehouse.\nThe drivers and connectors support specifying a default warehouse as a connection parameter when initiating a session.\nFor more information, see Applications and tools for connecting to Snowflake .\n ... \nSection Title: Overview of warehouses ¶ > ... > Recommendations for cost management ¶\nContent:\nSnowflake recommends using the SYSTEM$STREAMLIT_NOTEBOOK_WH warehouse exclusively for notebook workloads.\nTo improve bin-packing efficiency and reduce cluster fragmentation, direct SQL queries from Notebook apps to a separate customer-managed query warehouse. Using a single shared warehouse for all Notebook apps in an account further enhances bin-packing efficiency.\nSeparating notebook Python workloads from SQL queries minimizes cluster fragmentation. This approach optimizes overall costs by ensuring that notebook Python workloads are not co-located with larger warehouses, which are typically used for query execution.\n ... \nSection Title: Overview of warehouses ¶ > Warehouse usage in sessions ¶ > Precedence for warehouse defaults ¶\nContent:\nWhen a user connects to Snowflake and start a session, Snowflake determines the default warehouse for the session in the following order:\nDefault warehouse for the user,» **overridden by…**\nDefault warehouse in the configuration file for the client utility (SnowSQL, JDBC driver, etc.) used to connect to Snowflake (if the\nclient supports configuration files),» **overridden by…**\nDefault warehouse specified on the client command line or through the driver/connector parameters passed to Snowflake.\nNote\nIn addition, the default warehouse for a session can be changed at any time by executing the USE WAREHOUSE command within the session.\nWas this page helpful?\nYes No\n[Visit Snowflake](https://www.snowflake.com)\n[Join the conversation](https://community.snowflake.com/s/)\n[Develop with Snowflake](https://developers.snowflake.com)\nShare your feedback\nSection Title: Overview of warehouses ¶ > Warehouse usage in sessions ¶ > Precedence for warehouse defaults ¶\nContent:\n[Read the latest on our blog](https://www.snowflake.com/blog/)\n[Get your own certification](https://learn.snowflake.com)\nOn this page\nWarehouse size\nAuto-suspension and auto-resumption\nQuery processing and concurrency\nWarehouse usage in sessions\nRelated content\nUnderstanding compute cost\nWorking with resource monitors\nLanguage: **English**\nEnglish\nFrançais\nDeutsch\n日本語\n한국어\nPortuguês"]},{"url":"https://docs.snowflake.com/en/sql-reference/sql/alter-warehouse","title":"ALTER WAREHOUSE | Snowflake Documentation","excerpts":["Section Title: ALTER WAREHOUSE ¶\nContent:\nSuspends or resumes a virtual warehouse ,\nor aborts all queries (and other SQL statements) for a warehouse. Can also be used to rename or\nset/unset the properties for a warehouse.\nSee also:\nCREATE WAREHOUSE , DESCRIBE WAREHOUSE , DROP WAREHOUSE , SHOW WAREHOUSES\nSection Title: ALTER WAREHOUSE ¶ > Syntax ¶\nContent:\n```\nALTER WAREHOUSE [ IF EXISTS ] [ <name> ] { SUSPEND | RESUME [ IF SUSPENDED ] } \n\n ALTER WAREHOUSE [ IF EXISTS ] [ <name> ] ABORT ALL QUERIES \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> RENAME TO <new_name> \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> SET [ objectProperties ] \n                                         [ objectParams ] \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> SET TAG <tag_name> = '<tag_value>' [ , <tag_name> = '<tag_value>' ... ] \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> UNSET TAG <tag_name> [ , <tag_name> ... ] \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> UNSET { <property_name> | <param_name> } [ , ... ] \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> ADD TABLES ( <table_name> [ , <table_name> ... ] ) \n\n ALTER WAREHOUSE [ IF EXISTS ] <name> DROP TABLES ( <table_name> [ , <table_name> ... ] )\n```\nCopy\nWhere:\nCopyCopy\n ... \nSection Title: ALTER WAREHOUSE ¶ > Properties/parameters ¶\nContent:\nWhen resuming/suspending a warehouse or aborting queries for a warehouse, if a warehouse is currently in use for the session, the identifier\ncan be omitted. When renaming a warehouse or performing any other operations on a warehouse, the identifier must be specified. `{ SUSPEND | RESUME [ IF SUSPENDED ] }`\nSpecifies the action to perform on the warehouse:\n`SUSPEND` removes all compute nodes from a warehouse and puts the warehouse into a ‘Suspended’ state. `RESUME [ IF SUSPENDED ]` brings a suspended warehouse to a usable ‘Running’ state by provisioning compute resources.The optional `IF SUSPENDED` clause specifies whether the ALTER WAREHOUSE command completes successfully when resuming a warehouse that\nis already running:\nIf omitted, the command fails and returns an error if the warehouse is already running. If specified, the command completes successfully regardless of whether the warehouse is running.\n ... \nSection Title: ALTER WAREHOUSE ¶ > Properties/parameters ¶\nContent:\nValid values :\n`1` to the value of MAX_CLUSTER_COUNT. The upper limit for MAX_CLUSTER_COUNT varies depending on the warehouse size.\nMIN_CLUSTER_COUNT must be equal to or less than MAX_CLUSTER_COUNT:\nIf both parameters are equal, the warehouse runs in Maximized mode.\nIf MIN_CLUSTER_COUNT is less than MAX_CLUSTER_COUNT, the warehouse runs in Auto-scale mode.\nFor more information, including the upper limit for each warehouse size, see Multi-cluster warehouses .\nDefault :\n`1`\n`SCALING_POLICY = { STANDARD | ECONOMY }`\nObject parameter that specifies the policy for automatically starting and shutting down clusters in a multi-cluster warehouse\nrunning in Auto-scale mode.\nFor a detailed description of this parameter, see Setting the scaling policy for a multi-cluster warehouse .\n`AUTO_SUSPEND = { _num_ | NULL }`\nSpecifies the number of seconds of inactivity after which a warehouse is automatically suspended.\nSection Title: ALTER WAREHOUSE ¶ > Properties/parameters ¶\nContent:\nValid values :\nAny integer `0` or greater, or `NULL` :\nThe background process that suspends a warehouse runs approximately every 30 seconds and therefore, the setting for\nthis property isn’t intended for enabling precise control over warehouse suspension.\nSetting a value less than 30, or a value that isn’t a multiple of 30, is allowed but might not result in the expected\nbehavior due to the 30 second poll interval for warehouse suspension.\nSetting a `0` or `NULL` value means the warehouse never suspends.\nDefault :\n`600` (the warehouse suspends automatically after 10 minutes of inactivity)\nImportant\nSetting `AUTO_SUSPEND` to `0` or `NULL` is not recommended, unless your query workloads require a continually running\nwarehouse. Note that this can result in significant consumption of credits (and corresponding charges), particularly for larger warehouses.\nFor more details, see Warehouse considerations .\n ... \nSection Title: ALTER WAREHOUSE ¶ > Properties/parameters ¶\nContent:\nFor a single-cluster warehouse or a multi-cluster warehouse (in Maximized mode), additional statements are queued until resources\nare available.For a multi-cluster warehouse (in Auto-scale mode), additional clusters are started.\nThis parameter can be used in conjunction with `STATEMENT_QUEUED_TIMEOUT_IN_SECONDS` to ensure a warehouse is never backlogged.\nFor a detailed description of this parameter, see MAX_CONCURRENCY_LEVEL .\n`STATEMENT_QUEUED_TIMEOUT_IN_SECONDS = _num_`\nObject parameter that specifies the time, in seconds, a SQL statement (query, DDL, DML, etc.) can be queued on a warehouse before it is\ncanceled by the system.\nThis parameter can be used in conjunction with `MAX_CONCURRENCY_LEVEL` to ensure a warehouse is never backlogged.\nFor a detailed description of this parameter, see STATEMENT_QUEUED_TIMEOUT_IN_SECONDS .\n ... \nSection Title: ALTER WAREHOUSE ¶ > Access control requirements ¶\nContent:\n| Privilege | Object | Notes |\n| APPLY | Tag | Enables setting a tag on a warehouse. |\n| MODIFY | Warehouse | Enables altering any properties of a warehouse, including changing its size. Required to assign a warehouse to a resource monitor. |\n| Only the ACCOUNTADMIN role can assign warehouses to resource monitors. |  |  |\n| MONITOR | Warehouse | Enables viewing current and past queries executed on a warehouse as well as usage statistics on that warehouse. |\n| OPERATE | Warehouse | Enables changing the state of a warehouse (stop, start, suspend, resume), and enables viewing current and past queries |\n| executed on a warehouse, and aborting any executing queries. |  |  |\n| USAGE | Warehouse | Enables using a virtual warehouse and, as a result, executing queries on the warehouse. If the warehouse is configured to auto-resume |\n ... \nSection Title: ALTER WAREHOUSE ¶ > Usage notes ¶\nContent:\nA warehouse does not need to be suspended to set or change any of its properties. You can change the warehouse type\nand resource constraint properties while the warehouse is running. When the warehouse size is changed, the change doesn’t impact any statements, including queries, that are currently executing. Once the\nstatements complete, and the compute resources are fully provisioned, the new size is used for all subsequent statements. Suspending a warehouse does not abort any queries being processed by the warehouse at the time it is suspended. Instead, the\nwarehouse completes the queries, then shuts down the compute resources used to process the queries. During this time period, the warehouse\nis in *quiescing* mode. When all the compute resources are shut down, the warehouse’s status changes to Suspended.\n ... \nSection Title: ALTER WAREHOUSE ¶ > Billing and pricing ¶\nContent:\nFor information on Snowpark-optimized warehouse credit consumption, see `Table 1` in the [Snowflake Service Consumption Table](https://www.snowflake.com/legal-files/CreditConsumptionTable.pdf) .\nFor information about billing and pricing considerations for interactive warehouses, see Cost and billing considerations .\nTip\nFor information about cost implications of changing the RESOURCE_CONSTRAINT property, see considerations for changing RESOURCE_CONSTRAINT while a warehouse is running or suspended ."]},{"url":"https://docs.snowflake.com/en/user-guide/cost-controlling-controls","title":"Cost controls for warehouses | Snowflake Documentation","excerpts":["[DOCUMENTATION](https://docs.snowflake.com)\n/\nGet started\nGuides\nDeveloper\nReference\nRelease notes\nTutorials\n[Status](https://status.snowflake.com)\nGuides Cost & Billing Control Cost controls for warehouses\nSection Title: Cost controls for warehouses ¶\nContent:\nThis topic discusses *controls* that you can use to limit how much is spent on virtual warehouse usage. These controls help ensure that the actual cost of using virtual warehouses does not exceed expected cost.\nThese controls do not apply to cloud services and serverless features .\nSection Title: Cost controls for warehouses ¶ > Control access to warehouses ¶\nContent:\nCarefully defining who can work with warehouses and what they can do with those warehouses helps control cost by limiting compute resource\nusage to known warehouses that have cost-effective configurations. Snowflake’s granular access control allows you to grant the following privileges for warehouses:\nSection Title: Cost controls for warehouses ¶ > Control access to warehouses ¶\nContent:\n**CREATE WAREHOUSE** — Global privilege (i.e. granted on the account) that restricts which roles can create a new warehouse, allowing\nyou to force individuals to use existing warehouses that have cost controls in place.\n**MODIFY** — Privilege on a specific warehouse that allows changing the settings that affect cost, including resizing a warehouse and\ndisabling the auto-suspend setting. Commonly, users increase the size of a warehouse for a\nparticular workload and then forget to change it back to its original size, which can have a significant effect on cost.\n**USAGE** — Privilege on a specific warehouse that allows activating the warehouse to provide compute resources for queries and other\nSQL actions. Carefully assigning this privilege ensures that users can only use warehouses with the appropriate size and configuration\nfor their workloads.\nSection Title: Cost controls for warehouses ¶ > Control access to warehouses ¶\nContent:\nCentralizing the responsibility of creating and scaling warehouses to just a few members of your team is considered a best practice. You can\ncreate a dedicated role with permissions to create and modify all warehouses, and then grant that role to a limited number of users. This\nallows you to control your warehouse policies and prevent accidental cost overruns resulting from warehouses being created or upsized\nunexpectedly.\nTip\nIf you want the ability to scale a warehouse to handle more demanding workloads, but do not want to give users the ability to increase\nthe size of a warehouse because they might forget to resize it later, consider using a multi-cluster warehouse . A multi-cluster warehouse scales automatically as workloads\nfluctuate.\nFor a list of all the privileges that can be set for a warehouse, see Virtual warehouse privileges .\n ... \nSection Title: Cost controls for warehouses ¶ > Use auto-suspension ¶\nContent:\nBy default, all warehouses have the auto-suspend setting enabled, which means a warehouse automatically shuts down when it is inactive\nfor a defined period of time. A suspended warehouse does not consume credits, so the warehouse only incurs cost when it is processing a\nworkload.\nRestricting users from disabling the auto-suspend setting helps to prevent an unused warehouse from wasting credits. You can use access control to allow someone to use a warehouse but also prevent them from modifying its Auto\nSuspend setting.\n**Query: Find warehouses without auto-suspend**\nUse the following query to periodically check whether the auto-suspend setting was disabled for any warehouses.\n```\nSHOW WAREHOUSES \n  ->> SELECT \"name\" AS WAREHOUSE_NAME , \n             \"size\" AS WAREHOUSE_SIZE \n        FROM $ 1 \n        WHERE IFNULL ( \"auto_suspend\" , 0 ) = 0 ;\n```\nCopy\nSection Title: Cost controls for warehouses ¶ > Use auto-suspension ¶\nContent:\nTo enable auto-suspend for the warehouses that have it turned off, sign in to Snowsight . In the navigation menu, select Compute » Warehouses . You can also use the `AUTO_SUSPEND` parameter of the ALTER WAREHOUSE command.\nSection Title: Cost controls for warehouses ¶ > Use auto-suspension ¶ > Using auto-resume with auto-suspend ¶\nContent:\nIn general, every warehouse that has auto-suspend enabled should also have auto-resume enabled. The combination of these two settings\nstops and starts a warehouse automatically as the warehouse’s workload fluctuates.\n**Query: Find warehouses without Auto Resume**\nThe following query lists the warehouses that do not have auto-resume enabled, letting you know which ones need to be modified.\n```\nSHOW WAREHOUSES \n  ->> SELECT \"name\" AS WAREHOUSE_NAME , \n             \"size\" AS WAREHOUSE_SIZE \n        FROM $ 1 \n        WHERE \"auto_resume\" = 'false' ;\n```\nCopy\nTo enable auto-resume for the warehouses that have it turned off, sign in to Snowsight . In the navigation menu, select Compute » Warehouses . You can also use the `AUTO_RESUME` parameter of the ALTER WAREHOUSE command.\nSection Title: Cost controls for warehouses ¶ > Enforce spending limits ¶\nContent:\n*Resource monitors* provide the ability to set limits on credits consumed by a warehouse during a specific time interval or date range.\nThis can help prevent warehouses from unintentionally consuming more credits than typically expected.\nSometimes a resource monitor simply notifies an administrator when a credit limit is reached, but you can also *enforce* a limit by\nconfiguring a resource monitor to suspend a warehouse as soon as the limit is reached. There are two options when enforcing a limit: suspend\nthe warehouse after pending statements are executed or suspend immediately without waiting for statements to complete.\nSection Title: Cost controls for warehouses ¶ > Enforce spending limits ¶\nContent:\nBecause a single resource monitor can be set for multiple warehouses or an entire account, you can effectively suspend multiple warehouses\nwhen an overall spending limit is reached. A warehouse can be assigned to its own resource monitor and an account-specific resource monitor\nat the same time; the warehouse is suspended when either of the credit limits is reached.\nFor more information about suspending warehouses when spending limits are reached, see Working with resource monitors .\n**Query: Find warehouses without resource monitors**\nThe following query lists the warehouses that aren’t assigned to a warehouse-specific resource monitor, which makes them vulnerable\nto runaway costs. The query doesn’t check for account-level resource monitors; warehouses in the list that belong to an account\nthat has an account-level resource monitor are still subject to credit limits.\nSection Title: Cost controls for warehouses ¶ > Enforce spending limits ¶\nContent:\n```\nSHOW WAREHOUSES \n  ->> SELECT \"name\" AS WAREHOUSE_NAME , \n             \"size\" AS WAREHOUSE_SIZE \n        FROM $ 1 \n        WHERE \"resource_monitor\" = 'null' ;\n```\nCopy\nNote\nThe cloud services layer of the Snowflake architecture can still incur a small cost if queries are run against a warehouse that was\nsuspended by a resource monitor.\nWas this page helpful?\nYes No\n[Visit Snowflake](https://www.snowflake.com)\n[Join the conversation](https://community.snowflake.com/s/)\n[Develop with Snowflake](https://developers.snowflake.com)\nShare your feedback\n[Read the latest on our blog](https://www.snowflake.com/blog/)\n[Get your own certification](https://learn.snowflake.com)\nOn this page\nControl access to warehouses\nLimit query times\nLimit statement queue times\nUse auto-suspension\nEnforce spending limits\nRelated content\nManaging cost in Snowflake\nLanguage: **English**\nEnglish\nFrançais\nDeutsch\n日本語\n한국어\nPortuguês"]},{"url":"https://docs.snowflake.com/en/user-guide/warehouses-considerations","title":"Warehouse considerations | Snowflake Documentation","excerpts":["Section Title: Warehouse considerations ¶ > How are credits charged for warehouses? ¶\nContent:\nTip\nFor information about cost implications of changing the RESOURCE_CONSTRAINT property, see considerations for changing RESOURCE_CONSTRAINT while a warehouse is running or suspended .\n ... \nSection Title: Warehouse considerations ¶ > How does warehouse caching impact queries? ¶\nContent:\nEach warehouse, when running, maintains a cache of table data accessed as queries are processed by the warehouse. This enables improved\nperformance for subsequent queries if they are able to read from the cache instead of from the table(s) in the query. The size of the cache\nis determined by the compute resources in the warehouse (that is, the larger the warehouse and, therefore, more compute resources in the\nwarehouse, the larger the cache).\nThis cache is dropped when the warehouse is suspended, which might result in slower initial performance for some queries after the warehouse\nis resumed. As the resumed warehouse runs and processes more queries, the cache is rebuilt, and queries that are able to take advantage of\nthe cache will experience improved performance.\nSection Title: Warehouse considerations ¶ > How does warehouse caching impact queries? ¶\nContent:\nKeep this in mind when deciding whether to suspend a warehouse or leave it running. In other words, consider the trade-off between saving\ncredits by suspending a warehouse versus maintaining the cache of data from previous queries to help with performance.\nSection Title: Warehouse considerations ¶ > Creating a warehouse ¶\nContent:\nWhen creating a warehouse, the two most critical factors to consider, from a cost and performance perspective, are:\nWarehouse size (that is, available compute resources)\nManual vs automated management (for starting/resuming and suspending warehouses).\nThe number of clusters in a warehouse is also important if you are using Snowflake Enterprise Edition (or higher) and multi-cluster warehouses . For more details, see Scaling Up vs Scaling Out (in this topic).\nSection Title: Warehouse considerations ¶ > Creating a warehouse ¶ > Selecting an initial warehouse size ¶\nContent:\nThe initial size you select for a warehouse depends on the task the warehouse is performing and the workload it processes. For example:\nFor data loading, the warehouse size should match the number of files being loaded and the amount of data in each file. For more information,\nsee Planning a data load .\nFor queries in small-scale testing environments, smaller warehouses sizes (X-Small, Small, Medium) may be sufficient.\nFor queries in large-scale production environments, larger warehouse sizes (Large, X-Large, 2X-Large, etc.) may be more cost effective.\nHowever, note that per-second credit billing and auto-suspend give you the flexibility to start with larger sizes and then adjust the size\nto match your workloads. You can decrease the size of a warehouse at any time.\n ... \nSection Title: Warehouse considerations ¶ > ... > Using the default warehouse for Notebook apps ¶\nContent:\nPreview Feature — Open\nAvailable to all accounts.\nEach account is provisioned with the SYSTEM$STREAMLIT_NOTEBOOK_WH warehouse that is specifically designed to run Notebook Python code. This multi-cluster X-Small warehouse helps reduce cluster fragmentation, optimize costs, and improve bin-packing efficiency. For more\ndetails, see Default warehouse for notebooks .\nSection Title: Warehouse considerations ¶ > Creating a warehouse ¶ > Automating warehouse suspension ¶\nContent:\nWarehouses can be set to automatically suspend when there’s no activity after a specified period of time. Auto-suspend is enabled by\nspecifying the time period (minutes, hours, etc.) of inactivity for the warehouse.\nWe recommend setting auto-suspend according to your workload and your requirements for warehouse availability:\nSection Title: Warehouse considerations ¶ > Creating a warehouse ¶ > Automating warehouse suspension ¶\nContent:\nIf you enable auto-suspend, we recommend setting it to a low value (for example, 5 or 10 minutes or less) because Snowflake utilizes per-second\nbilling. This will help keep your warehouses from running (and consuming credits) when not in use.However, the value you set should match the gaps, if any, in your query workload. For example, if you have regular gaps of 2 or 3 minutes\nbetween incoming queries, it doesn’t make sense to set auto-suspend to 1 or 2 minutes because your warehouse will be in a continual state\nof suspending and resuming (if auto-resume is also enabled) and each time it resumes, you are billed for the minimum credit usage (that is, 60 seconds). You might want to consider disabling auto-suspend for a warehouse if:\nYou have a heavy, steady workload for the warehouse. You require the warehouse to be available with no delay or lag time.\n ... \nSection Title: Warehouse considerations ¶ > Creating a warehouse ¶ > Automating warehouse suspension ¶\nContent:\nImportant\nIf you choose to disable auto-suspend, carefully consider the costs associated with running a warehouse continually, even when the\nwarehouse is not processing queries. The costs can be significant, especially for larger warehouses (X-Large, 2X-Large, etc.).\nTo disable auto-suspend, you must explicitly select Never in the web interface, or specify `0` or `NULL` in SQL.\nSection Title: Warehouse considerations ¶ > Creating a warehouse ¶ > Automating warehouse resumption ¶\nContent:\nWarehouses can be set to automatically resume when new queries are submitted.\nWe recommend enabling/disabling auto-resume depending on how much control you wish to exert over usage of a particular warehouse:\nIf cost and access are not an issue, enable auto-resume to ensure that the warehouse starts whenever needed. Keep in mind that there\nmight be a short delay in the resumption of the warehouse due to provisioning.\nIf you wish to control costs and/or user access, leave auto-resume disabled and instead manually resume the warehouse only when needed.\nSection Title: Warehouse considerations ¶ > Scaling up vs scaling out ¶\nContent:\nSnowflake supports two ways to scale warehouses:\nScale up by resizing a warehouse.\nScale out by adding clusters to a multi-cluster warehouse (requires Snowflake Enterprise Edition or\nhigher).\n ... \nSection Title: Warehouse considerations ¶ > Scaling up vs scaling out ¶ > Warehouse resizing improves performance ¶\nContent:\nDecreasing the size of a running warehouse removes compute resources from the warehouse. When the computer resources are removed, the\ncache associated with those resources is dropped, which can impact performance in the same way that suspending the warehouse can impact\nperformance after it is resumed.\nKeep this in mind when choosing whether to decrease the size of a running warehouse or keep it at the current size. In other words, there\nis a trade-off with regards to saving credits versus maintaining the cache.\n ... \nSection Title: Warehouse considerations ¶ > ... > Multi-cluster warehouses improve concurrency ¶\nContent:\nIf you are using Snowflake Enterprise Edition (or a higher edition), all your warehouses should be configured as multi-cluster\nwarehouses. Unless you have a specific requirement for running in Maximized mode, multi-cluster warehouses should be configured to run in Auto-scale\nmode, which enables Snowflake to automatically start and stop clusters as needed. When choosing the minimum and maximum number of clusters for a multi-cluster warehouse:Minimum :\nKeep the default value of `1` ; this ensures that additional clusters are only started as needed. However, if\nhigh-availability of the warehouse is a concern, set the value higher than `1` . This helps ensure multi-cluster warehouse availability\nand continuity in the unlikely event that a cluster fails. Maximum :\nSet this value as large as possible, while being mindful of the warehouse size and corresponding credit costs."]},{"url":"https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/","title":"Snowflake Warehouse Suspension - Reddit","excerpts":["Skip to main content Open menu Open navigation  Go to Reddit Home\n\nr/snowflake\n\nExpand user menu Open settings menu\n\nGo to snowflake r/snowflake\n\nr/snowflake\n\nUnofficial subreddit for discussion relating to the Snowflake Data Cloud\n\n* * *\n\nMembers •\n\n[deleted] [简体中文](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=zh-hans) [हिन्दी](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=hi) [Ελληνικά](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=el) [Español (España)](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=es-es) [한국어](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=ko) [Türkçe](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=tr) [Filipino](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=fil) [Suomi](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=fi) [Português (Portugal)](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=pt-pt) [Nederlands](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=nl) [Español (Latinoamérica)](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=es-419) [Magyar](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=hu) [Italiano](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=it) [Deutsch](https://www.reddit.com/r/snowflake/comments/18657v2/snowflake_warehouse_suspension/?tl=de)\n\n# Snowflake Warehouse Suspension\n\nIs there a method to determine the ideal suspension time for a warehouse? My initial thought it to have it set to 60 seconds, but I am curious if there is a way to determine what is ideal.\n\nTIA! Share\n\n# Related Answers Section\n\nRelated Answers\n\nHow to set default warehouse in Snowflake\n\nSnowflake warehouse metering history insights\n\nOptimize Snowflake warehouse performance\n\nTop features of Snowflake for data analysts\n\nHow to integrate Snowflake with Python\n\nPublic\n\nAnyone can view, post, and comment to this community\n\n0 0\n\n## Top Posts\n\n* * *\n\n* [Reddit reReddit: Top posts of November 28, 2023 * * *](https://www.reddit.com/posts/2023/november-28-1/global/)\n* [Reddit reReddit: Top posts of November 2023 * * *](https://www.reddit.com/posts/2023/november/global/)\n* [Reddit reReddit: Top posts of 2023 * * *](https://www.reddit.com/posts/2023/global/)\n\nExpand Navigation Collapse Navigation"]}],"usage":[{"name":"sku_search","count":1}]}
