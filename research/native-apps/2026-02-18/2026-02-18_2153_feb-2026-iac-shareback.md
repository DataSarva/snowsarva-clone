# Research: Native Apps - 2026-02-18

**Time:** 2153 UTC  
**Topic:** Snowflake Native App Framework  
**Researcher:** Snow (AI Assistant)

---

## Accurate Takeaways

*Plain statements validated from sources. No marketing language.*

1. **Inter-app communication (IAC) is now available for Snowflake Native Apps in Preview (Feb 13, 2026).** It allows one Native App (client) to call procedures/functions exposed by another Native App (server) in the same consumer account. 
2. IAC uses a **handshake workflow** based on (a) a **CONFIGURATION DEFINITION** (type `APPLICATION_NAME`) so the consumer can supply the *actual installed name* of the target server app, and (b) an **APPLICATION SPECIFICATION** (type `CONNECTION`) requesting access to one or more **server app roles**.
3. After the consumer approves a CONNECTION specification, Snowflake **grants the requested server app roles to the client app**, and also **grants USAGE on the client app to the server app** (so the server can detect connected clients).
4. For Shareback, Snowflake Native Apps can now **request permission from consumers to share data back to the provider or designated third-party accounts** (GA as of Feb 10, 2026). This is implemented via **LISTING app specifications** associated with a listing created by the app.
5. To implement Shareback via listings, the app needs (a) privileges to create shares/listings (via automated privilege grants), (b) to create a **SHARE** and **EXTERNAL LISTING**, and (c) to create an **APPLICATION SPECIFICATION** (type `LISTING`) specifying target accounts (Org.Account) and optionally cross-region auto-fulfillment refresh schedule.

## Snowflake Objects & Data Sources

| Object/View | Type | Source | Notes |
|-------------|------|--------|-------|
| `ALTER APPLICATION SET CONFIGURATION DEFINITION ... TYPE=APPLICATION_NAME` | DDL | Docs (IAC) | Client app requests server app name; consumer sets it later. |
| `SHOW CONFIGURATIONS IN APPLICATION <server_app>` | Command | Docs (IAC) | Consumer discovers incoming configuration definition requests. |
| `ALTER APPLICATION SET SPECIFICATION ... TYPE=CONNECTION` | DDL | Docs (IAC) | Client app requests server app + server app roles. |
| `ALTER APPLICATION <server_app> APPROVE SPECIFICATION <name> SEQUENCE_NUMBER=<n>` | DDL | Docs (IAC) | Consumer approval can be done via SQL (or Snowsight). |
| `SHOW APPROVED SPECIFICATIONS ->> ...` | Command | Docs (IAC) | Client can retrieve server app name from approved spec at runtime. |
| `CREATE SHARE ...` / `GRANT ... TO SHARE ...` | DDL | Docs (Shareback) | Share can include objects only from databases created/owned by the app. |
| `CREATE EXTERNAL LISTING ... SHARE <share> ...` | DDL | Docs (Shareback) | Listings must be created unpublished (`PUBLISH=FALSE`, `REVIEW=FALSE`). |
| `ALTER APPLICATION SET SPECIFICATION ... TYPE=LISTING TARGET_ACCOUNTS=... LISTING=...` | DDL | Docs (Shareback) | Each listing can have only one LISTING spec; updating targets creates a new pending request. |

**Legend:**
- `ACCOUNT_USAGE` = Account-level metadata
- `ORG_USAGE` = Organization-level
- `INFO_SCHEMA` = Database-level

## MVP Features Unlocked

*PR-sized ideas that can be shipped based on these findings.*

1. **Native-app-to-native-app integration mode (Preview):** make the FinOps Native App expose a “cost intelligence interface” (stored procs/functions + app role) so other Native Apps can ask for cost allocations, anomaly signals, and recommendations inside the same account.
2. **Shareback GA telemetry channel:** implement opt-in Shareback that publishes (a) anonymized usage metrics and (b) diagnostic “state snapshots” back to the provider account via a listing spec, enabling faster support and product analytics.
3. **Ecosystem joins:** build a small “adapter client app” that can connect to partner apps via IAC to ingest/merge partner signals (e.g., lineage/governance metadata) into our FinOps model (subject to consumer approval).

## Concrete Artifacts

### Minimal IAC handshake (client app) — SQL sketch

```sql
-- Step 1: client app requests the server app name (consumer supplies later)
ALTER APPLICATION
  SET CONFIGURATION DEFINITION my_server_app_name_configuration
  TYPE = APPLICATION_NAME
  LABEL = 'Server App'
  DESCRIPTION = 'Request for an app that will provide access to server procedures and functions.'
  APPLICATION_ROLES = (my_client_app_role);

-- Step 2: after consumer sets configuration value, client requests connection
ALTER APPLICATION
  SET SPECIFICATION my_server_connection_spec
  TYPE = CONNECTION
  LABEL = 'Server App'
  DESCRIPTION = 'Request for an app that will provide access to server procedures and functions.'
  SERVER_APPLICATION = MY_SERVER_APP_NAME
  SERVER_APPLICATION_ROLES = (server_app_role_needed);
```

### Shareback via listing (app) — SQL sketch

```sql
-- Manifest should be v2 for app specs + auto-grant flows
-- manifest_version: 2

-- Setup: create share + listing
CREATE SHARE IF NOT EXISTS compliance_share;

-- Example grants (objects must be in app-owned DB)
GRANT USAGE ON DATABASE app_created_db TO SHARE compliance_share;
GRANT USAGE ON SCHEMA app_created_db.reporting TO SHARE compliance_share;
GRANT SELECT ON TABLE app_created_db.reporting.metrics TO SHARE compliance_share;

CREATE EXTERNAL LISTING IF NOT EXISTS compliance_listing
  SHARE compliance_share
  AS $$
  title: "Compliance Data Share"
  subtitle: "Regulatory compliance reporting data"
  description: "Share compliance and audit data with authorized accounts"
  listing_terms:
    type: "OFFLINE"
  $$
  PUBLISH = FALSE
  REVIEW = FALSE;

-- Request permission to share to provider/partners
ALTER APPLICATION SET SPECIFICATION shareback_spec
  TYPE = LISTING
  LABEL = 'Compliance Data Sharing'
  DESCRIPTION = 'Share compliance data with provider for regulatory reporting'
  TARGET_ACCOUNTS = 'ProviderOrg.ProviderAccount,PartnerOrg.PartnerAccount'
  LISTING = compliance_listing;
```

## Risks / Assumptions

| Risk/Assumption | Impact | Validation |
|-----------------|--------|------------|
| IAC is **Preview** (feature semantics, limitations, and security model may change). | Could require refactors before GA. | Track release notes + IAC docs diffs over time. |
| IAC requires offline coordination to know which server app roles to request. | Partner integration is process-heavy. | Define a partner role contract + docs. |
| Shareback via LISTING specs requires app-owned DB objects; consumers can potentially modify shares created by apps. | Integrity risk for shared datasets. | Implement integrity checks + publish only derived/validated tables; document clearly. |
| Cross-region shareback may introduce consumer-billed auto-fulfillment costs. | Could create unexpected spend. | Provide explicit controls + recommended schedules. |

## Links & Citations

1. Feb 13, 2026 release note: IAC (Preview): https://docs.snowflake.com/en/release-notes/2026/other/2026-02-13-nativeapps-iac
2. IAC documentation: https://docs.snowflake.com/en/developer-guide/native-apps/inter-app-communication
3. Feb 10, 2026 release note: Shareback (GA): https://docs.snowflake.com/en/release-notes/2026/other/2026-02-10-nativeapps-shareback
4. Shareback implementation (LISTING app specs): https://docs.snowflake.com/en/developer-guide/native-apps/requesting-app-specs-listing

## Next Steps / Follow-ups

- Decide whether we want to be a **server app** (export FinOps APIs) or a **client app** (consume partner APIs) first; server-app is lower coordination and immediately useful.
- Prototype a “FinOps IAC interface” (stored proc set + app role) behind a feature flag; ensure least-privilege.
- For Shareback, define a minimal telemetry schema (what we share, retention, pseudonymization) and build an opt-in Shareback workflow using LISTING app specs.
