# Research: Native Apps - 2026-02-06

**Time:** 10:12 UTC  
**Topic:** Snowflake Native App Framework (and adjacent platform updates relevant to FinOps / SPCS)  
**Researcher:** Snow (AI Assistant)

---

## Accurate Takeaways

1. **Notebooks in Workspaces is now GA (Feb 05, 2026)** and runs on a **container runtime powered by Snowpark Container Services (SPCS)**, with explicit compute/cost-management features like CPU/GPU compute pools, shared connections, kernel persistence, and idle-time configuration.  
2. **New ORGANIZATION_USAGE premium views (Feb 01, 2026)** were added: **METERING_HISTORY** (hourly credits per account), **NETWORK_POLICIES** (org-wide network policy inventory), and **QUERY_ATTRIBUTION_HISTORY** (attributes warehouse compute cost to specific queries org-wide). Rollout is staged through **Feb 9, 2026**.  
3. **Consumer-controlled maintenance policies for Snowflake Native Apps (Preview) (Jan 23, 2026)** let consumers **delay app upgrades** (after a provider sets a new release directive) until a consumer-defined maintenance window begins, configured via **CREATE/ALTER MAINTENANCE POLICY**.  
4. **SPCS behavior change bundle item (2026_01 / Ref 2206)**: when enabled, deleting **block volumes** via certain operations can automatically create **billable snapshots** retained ~7 days by default; users can opt out via `snapshotOnDelete: false` in the service spec.

## Snowflake Objects & Data Sources

| Object/View | Type | Source | Notes |
|-------------|------|--------|-------|
| `ORGANIZATION_USAGE.METERING_HISTORY` | View | `ORG_USAGE` (premium) | Hourly credit usage per account; org-level rollups become much easier. |
| `ORGANIZATION_USAGE.QUERY_ATTRIBUTION_HISTORY` | View | `ORG_USAGE` (premium) | Attributes compute costs to specific queries on warehouses; strong primitive for FinOps explainability. |
| `ORGANIZATION_USAGE.NETWORK_POLICIES` | View | `ORG_USAGE` (premium) | Governance/security inventory across accounts. |
| `CREATE MAINTENANCE POLICY` / `ALTER MAINTENANCE POLICY` | SQL commands | SQL Reference | Consumers can gate Native App upgrade timing via maintenance policy windows. |
| `snapshotOnDelete` (service spec field) | Service specification option | SPCS docs / Behavior change (BCR 2206) | Cost-impacting default changes when bundle enabled; consider detection/guardrails. |

## MVP Features Unlocked

1. **Org-wide query cost attribution (FinOps app feature):** ingest `ORGANIZATION_USAGE.QUERY_ATTRIBUTION_HISTORY` and build “Top $ queries by team/app/warehouse” with explainable drill-down.
2. **Native App upgrade window compatibility checks:** add a provider-side “upgrade readiness” dashboard that accounts for consumer maintenance windows (expect upgrade queues/delays after release directive changes).
3. **SPCS volume deletion cost guardrail:** detect services using block volumes and warn if `snapshotOnDelete` is enabled (or if the 2026_01 bundle is enabled), since delete operations may generate billable snapshots.

## Concrete Artifacts

### SQL sketch: detect availability + backfill strategy for the new ORG_USAGE views

```sql
-- Run in the ORG ACCOUNT.
-- Goal: detect whether new premium views are available (rollout through Feb 9, 2026).

SHOW TERSE VIEWS IN SCHEMA ORGANIZATION_USAGE;

-- If present, sanity check row counts/time windows.
SELECT COUNT(*) FROM ORGANIZATION_USAGE.METERING_HISTORY;
SELECT COUNT(*) FROM ORGANIZATION_USAGE.QUERY_ATTRIBUTION_HISTORY;
```

### Pseudocode: “cost spikes explained” using query attribution

```text
daily_job:
  - pull QUERY_ATTRIBUTION_HISTORY for last 24h
  - aggregate cost by (account, warehouse, user, role, query_tag, query_hash)
  - join to internal ownership mappings (team/service) using query_tag conventions
  - output: top deltas vs 7d baseline + links to query text in ACCOUNT_USAGE if permitted
```

## Risks / Assumptions

| Risk/Assumption | Impact | Validation |
|-----------------|--------|------------|
| ORG_USAGE premium views are “premium” and may not be enabled/available for all customers immediately. | Features relying on these views need graceful degradation. | Add detection logic + fall back to ACCOUNT_USAGE; confirm entitlement in a test org account. |
| Consumer maintenance policies are preview and may change semantics/limits. | Provider upgrade workflows must remain robust. | Track doc updates; test behavior across a sample consumer account once available. |
| BCR 2206 is bundle-gated; actual default behaviors depend on bundle status. | Cost guardrail may false-alarm if bundle disabled. | Detect bundle enablement (if possible) or instruct customers how to check; document opt-out. |

## Links & Citations

1. Notebooks in Workspaces GA (Feb 05, 2026): https://docs.snowflake.com/en/release-notes/2026/other/2026-02-05-notebooks-in-workspaces
2. New ORGANIZATION_USAGE premium views (Feb 01, 2026): https://docs.snowflake.com/en/release-notes/2026/other/2026-02-01-organization-usage-new-views
3. Consumer-controlled maintenance policies for Native Apps (Preview) (Jan 23, 2026): https://docs.snowflake.com/en/release-notes/2026/other/2026-01-23-native-apps-consumer-maintenance-policies
4. SPCS behavior change bundle item (Ref 2206): https://docs.snowflake.com/en/release-notes/bcr-bundles/2026_01/bcr-2206

## Next Steps / Follow-ups

- Confirm exact schema/columns + retention windows for `ORGANIZATION_USAGE.QUERY_ATTRIBUTION_HISTORY` and map into FinOps data model.
- Add a “Native App upgrade UX” note: what the consumer sees when an upgrade is delayed by maintenance policy.
- Add a guardrail spec for SPCS block volume snapshot costs (detection + recommendations).
